---
title: "使用kubernetes的几大优势"
subtitile: "整理了一些为什么要使用k8s的理由!"
date: 2019-07-08
draft: false
tags: ["k8s"]
---

整理了一些使用k8s的理由和优势!
<!--more-->


## 拥抱微服务

微服务架构将巨大单体式应用分解为多个服务，每个服务通过 RPC 或者API 进行通信，具备了各个自服务容易开发、维护的优点，另外子服务还具备独立部署、快速扩展等优点。Kubernetes 对微服务本身有很好的支持，应用本身通过Deployment 进行部署，各个服务运行在 Pod 中，Pod 之间服务通过 Service 具备的服务发现实现相互间的通信。同时微服务架构也恰好是云原生应用的一种体现。

## 容器编排

Kubernetes 帮助使用者通过简单易用的 API 高效地管理成千上万个运行在容器中的微服务。Kubernetes 在 1.6 版本中已经支持 5000 个节点，这也说明 Kubernetes具备大规模集群的编排管理能力。同时，Kubernetes 还具备包括监控、日志、包管理等各种完善而专业的工具链，这将大大减轻运维和开发人员的负担。

## 服务注册发现

微服务的实践过程中存在各种服务依赖关系，因此服务的注册发现十分重要。Kubernetes 对服务进行抽象，通过抽象的服务层动态地解析到对应的容器服务。Kubernetes 同时提供了 DNS 和环境变量两种方式，帮助实现服务的注册和发现，Kubernetes 早期版本中使用的环境变量方式实现，现在 Kubernetes 则默认使用 DNS，通过使用 DNS 将服务名称解析为服务的 IP 地址，然后 Proxy 转到对应的 Pod。

## 主机资源利用率

Kubernetes 对主机的资源利用率，也是一种提升，基本上物理机，ECS，EC2，主机的利用率通常都在30%左右，极大的浪费了资源。使用 Kubernetes 后，可以根据主机资源使用情况，自动的调度 Pod 运行到那台机器上。可以极大的提高主机的资源利用率。

## 弹性扩容

例如我们新上线的应用，因不同的业务场景，初次上线的时候不太确定给多少资源，默认就给应用 4G 内存，在 Kubernetes 中我们可以根据内存的使用率，来定义是否启动一个新的 Pod，以及 Pod 最少多少个，最多多少个。

## 应用横向扩展

例如我们应用在在访问资源高峰期，应用需要进行添加机器，如果在 ECS、EC2 等机器，就需要再安装服务呀，配置负载之类的，在容器中就简单多了，直接修改ReplicaSet，修改节点数量，就会根据镜像自动启动新服务。
